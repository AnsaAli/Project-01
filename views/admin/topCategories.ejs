<%- include('../layout/adminHeader.ejs') %>

<div class="card">
    <div class="card-header" style="text-align: center;">
        <h5 style="font-weight: bold; font-size: 25px; margin-top: 8px;">Top Selling Categories</h5>
    </div>
    <div class="card-body m-5">
        <div class="table-responsive">
            <table class="table" id="productTable">
                <thead class="text-primary" style="font-size: small;">
                    <tr>
                        <th style="font-weight: bold;">Name</th>
                        <th style="font-weight: bold;">Total Quantity Ordered (g)</th>
                    </tr>
                </thead>
                <tbody>
                    <% categories.forEach(category => { %>
                        <tr>
                            <td><%= category.name %></td>
                            <td><%= category.totalQuantityOrdered %> g</td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
            <div class="pagination">
                <% if (currentPage > 1) { %>
                    <a href="/admin/findTopCategory?page=<%= currentPage - 1 %>">&laquo; [ Previous ]</a>
                <% } %>
                <% for (let i = 1; i <= totalPages; i++) { %>
                    <% if (i === currentPage) { %>
                        <span>[ <%= i %> ]</span>
                    <% } else { %>
                        <a href="/admin/findTopCategory?page=<%= i %>">[ <%= i %> ]</a>
                    <% } %>
                <% } %>
                <% if (currentPage < totalPages) { %>
                    <a href="/admin/findTopCategory?page=<%= currentPage + 1 %>">[ Next ] &raquo;</a>
                <% } %>
            </div>
        </div>
    </div>
</div>

<%- include('../layout/adminFooter.ejs') %>